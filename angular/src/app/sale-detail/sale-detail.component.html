<div *ngIf="sale" class="detailBody">
  <div class="panel panel-default panel-heading">

    <h2 class="panel-title">{{sale.title}}: {{sale.item}}</h2>
  </div>
  <div class="panel-body">
    <ul class="list-group description">
      <li class="list-group-item">Item Name: {{sale.item}}</li>
      <li class="list-group-item">Category: {{sale.category}}</li>
      <li class="list-group-item">Manufacturer: {{sale.manufacturer}}</li>
      <li class="list-group-item">Quality: {{sale.quality}}</li>
      <li class="list-group-item">Price: {{sale.price}}</li>

    </ul>
  </div>
  <div class="panel panel-default panel-heading">
    <h2 class="panel-title">Seller's contact information</h2>
  </div>
  <div class="panel-body">
    <ul class="list-group description">
      <li class="list-group-item">Location: {{sale.location}}</li>
      <li class="list-group-item">Description: {{sale.body}}</li>
      <li class="list-group-item">Seller's rating: {{sale.seller_rating.rating}} star(s) with {{sale.seller_rating.number_of_raters}} rater(s)</li>
    </ul>
  </div>


  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="map">
          <agm-map [latitude]="lat" [longitude]="lng">
            <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
          </agm-map>

        </div>
      </div>
    </div>
  </div>
<div class="row" style="padding:20px 10px 20px 10px;">
    <div class="col-12 col-lg-8">
        <input type="text" [(ngModel)]="new_message" #name="ngModel" />
        <button (click)="createMessage(message)" routerLink="/message/all" class="btn btn-primary">I'm interested! Send seller a message</button>
    </div>
</div>


  <div class="rating">
    <form [formGroup]="saleForm" #formDir="ngForm">
      <h2>Rate seller</h2>


      <div class="form-group">
        <label for="rate">Rate: </label>
        <select name="rate"
                formControlName="rate" class="btn btn-secondary dropdown-toggle form-control" required>
          <option *ngFor="let each of rate" [value]="each">{{each}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="comment">Comment:</label>
        <input id="comment" class="form-control" formControlName="comment" required/>

      </div>

      <button (click)="add()" class="btn btn-primary">
        Rate
      </button>
    </form>
  </div>




<div class="row" style="margin-bottom: 60px">
    <div *ngIf="sale" class="imagebox">
        <div *ngFor="let img of sale.images" class="col-lg-3" style="margin:0px;">
            <a href="{{img}}" target="_blank">
                <img class="img-responsive" src="{{img}}" alt="" style="width:200px;height:200px;margin:4px">
            </a>
        </div>
    </div>
</div>

  <div *ngIf="currentUser" class="detailBody">

    <div *ngIf="sale.owner_id == currentUser.id" class ="deleteButton">
      <div class = "buttonbox">
        <button (click)="deletePost()" class="btn btn-danger">Delete Post</button>
      </div>
    </div>
  </div>

</div>

